<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!--让IE以最新的内核渲染 -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<!--让视口宽度为设备宽度,不允许用户缩放 -->
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
	<!--不自动识别电话号码和邮编 -->
	<meta name="format-detection" content="telephone=no"/>
	<meta name="format-detection" content="email=no"/>
	<link rel="stylesheet" href="../style/swiper.min.css">
	<link rel="stylesheet" href="../style/qdknew0415.css">
	<title>青豆客-看图模式</title>
	<style>
		.main .swiper-container{
			height:100%;
		}
		.swiper-container .swiper-slide {
		    width: 100%!important;
		    margin: 0!important;
			vertical-align: center;
			-webkit-box-sizing:border-box;
		}
		.mask{
			top:3rem!important;
		}
		.footer{
			z-index:100;
		}
		.footerFixed{
			position:fixed;;
			bottom:0;
			left:0;
			z-index:50;
			width:100%;
			height:1.43rem;
			background:rgba(0,0,0,.8);
		}
		.footerFixed dl,.loadBtn{
			float:left;
		}
		.footerFixed dl dt{
			float:left;
			width:1.48rem;
			height: 1.43rem;
			text-align: center;
		}
		.footerFixed dl dt img{
			width:1.02rem;
			height: 1.02rem;
			margin-top: .22rem;
			border-radius:.12rem;
		}
		.footerFixed dl dd{
			width:5.28rem;
			color:#fff;
			font-size:.24rem;
		}
		.firstDd{
			margin-top: .20rem!important;
		}
		.loadBtn span{
			position:absolute;
			top:.5rem;
			right:.18rem;
			width:1.51rem;
			height: .57rem;
			background:#91d83f;
			border-radius: .29rem;
			font-size:.22rem;
			color:#fff;
			text-align: center;
			line-height: .57rem;
		}
	</style>
	<script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?0a64694656dc617040897481c1b7788b";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body>
	<div id="container">
		<!-- 头部 -->
		<header class="header">退出浏览模式</header>
		<!-- 中部 -->
		<main class="main">
			<div class="swiper-container">
		        <div class="swiper-wrapper">
		        	<!-- 渲染内容 -->
		        </div>
		    </div>
		    <div class="mask" id="mask">
		        <p>打赏<span class="money unitNum">￥6.</span></p>
		        <ul>
		            <li class="wechatPayIcon">
		                <img src="../img/qdk-wxzf.png" alt="#" class="wechatPay"/> 
		            </li>
		            <li class="browserwechatPay">
		                <img src="../img/qdk-wxzf.png" alt="#"/> 
		            </li>
		            <li class="alipayPayIcon">
		                <img src="../img/qdk-zfb.png" alt="#" class="alipayPay"/>
		            </li>
		        </ul>
		    </div>
		</main>
		<!-- 尾部 -->
		<footer class="footer">
			<div class="footerLeft">
				<ul>
					<li class="leftTitle">免费兑换写真</li>
					<li>步骤1.下载青豆客APP；</li>
					<li>步骤2.分享写真即可获得青豆；</li>
					<li>步骤3.使用青豆客免费兑换写真！</li>
				</ul>
			</div>
			<div class="footerRight">
				<a class="downLoadAPP"><img src="../img/qdl-download.png" alt=""></a>
			</div>
			<div class="share">
				<div class="shareTitle">分享</div>
				<ul class="shareIcon picShare">
					<!--分享到QQ-->
					<!-- <li>
						<a href="" class="Share" target="_blank">
							<img src="../img/qq-no@2x.png" class="shareQq">
						</a>
					</li> -->
					<!-- 分享到微博 -->
					<li>
						<a class="pic_share">
							<img src="../img/wb-no@2x.png" class="shareWeb">
						</a>
					</li>
					<!-- 分享到QQ空间 -->
					<li>
						<a class="pic_share">
							<img src="../img/qqkj-no@2x.png" class="shareQqkj">
						</a>
					</li>
					<li>
						<a class="pic_share">
							<img src="../img/wx-no@2x.png" class="shareQqkj">
						</a>
					</li>
				</ul>
			</div>
		</footer>
	</div>
	<div class="footerFixed">
		<dl class="qdkLogo">
			<dt><img src="../img/qdklogo0417.png" alt=""></dt>
			<dd class="firstDd">1.下载青豆客APP；</dd>
			<dd>2.分享写真即可获得青豆；</dd>
			<dd>3.使用青豆客免费兑换写真！</dd>
		</dl>
		<div class="loadBtn">
			<a class="downLoadAPP"><span>立即下载</span></a>
		</div>
	</div>
	<div class="QRcode" style="cursor:pointer">
	    <img src="" alt="">
	</div>
<script type="text/javascript" src="../lib/jquery.min.js"></script>
<script type="text/javascript" src="../lib/swiper.js"></script>
<script src="../lib/SFE.mShare.js"></script>
<script src="../lib/c.js" type="text/javascript"></script>
<script src="../lib/wb.js" type="text/javascript" charset="utf-8"></script>
<script src="../lib/qdknew0415.js" type="text/javascript"></script>
<script src="../script/qdk-pic.js"></script>
<script>
    var _url = window.location.href;
    /*var _albumId = getUrl.toLowerCase().match(/(^|\\?|&)picid=([^&]*)(\\s|&|$)/)[2];*/
    var _albumId = window.location.href.split("?")[1].split("&")[0].split("=")[1];
    console.log("图集ID是"+_albumId);
    //下面是64个基本的编码
    var base64EncodeChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    var base64DecodeChars = new Array( -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1);
    //编码的方法
    function base64encode(str) {
        var out, i, len;
        var c1, c2, c3;
        len = str.length;
        i = 0;
        out = "";
        while(i < len) {
        c1 = str.charCodeAt(i++) & 0xff;
        if(i == len){
            out += base64EncodeChars.charAt(c1 >> 2);
            out += base64EncodeChars.charAt((c1 & 0x3) << 4);
            out += "==";
            break;
        }
        c2 = str.charCodeAt(i++);
        if(i == len)
        {
            out += base64EncodeChars.charAt(c1 >> 2);
            out += base64EncodeChars.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));
            out += base64EncodeChars.charAt((c2 & 0xF) << 2);
            out += "=";
            break;
        }
        c3 = str.charCodeAt(i++);
        out += base64EncodeChars.charAt(c1 >> 2);
        out += base64EncodeChars.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));
        out += base64EncodeChars.charAt(((c2 & 0xF) << 2) | ((c3 & 0xC0) >>6));
        out += base64EncodeChars.charAt(c3 & 0x3F);
        }
        return out;
    }

    //解码的方法
    function base64decode(str) {
        var c1, c2, c3, c4;
        var i, len, out;
        len = str.length;
        i = 0;
        out = "";
        while(i < len) {
        
        do {
            c1 = base64DecodeChars[str.charCodeAt(i++) & 0xff];
        } while(i < len && c1 == -1);
        if(c1 == -1)
            break;
        
        do {
            c2 = base64DecodeChars[str.charCodeAt(i++) & 0xff];
        } while(i < len && c2 == -1);
        if(c2 == -1)
            break;
        out += String.fromCharCode((c1 << 2) | ((c2 & 0x30) >> 4));
        
        do {
            c3 = str.charCodeAt(i++) & 0xff;
            if(c3 == 61)
            return out;
            c3 = base64DecodeChars[c3];
        } while(i < len && c3 == -1);
        if(c3 == -1)
            break;
        out += String.fromCharCode(((c2 & 0XF) << 4) | ((c3 & 0x3C) >> 2));
        
        do {
            c4 = str.charCodeAt(i++) & 0xff;
            if(c4 == 61)
            return out;
            c4 = base64DecodeChars[c4];
        } while(i < len && c4 == -1);
        if(c4 == -1)
            break;
        out += String.fromCharCode(((c3 & 0x03) << 6) | c4);
        }
        return out;
    }
    function utf16to8(str) {
        var out, i, len, c;
        out = "";
        len = str.length;
        for(i = 0; i < len; i++) {
        c = str.charCodeAt(i);
        if ((c >= 0x0001) && (c <= 0x007F)) {
            out += str.charAt(i);
        } else if (c > 0x07FF) {
            out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
            out += String.fromCharCode(0x80 | ((c >>  6) & 0x3F));
            out += String.fromCharCode(0x80 | ((c >>  0) & 0x3F));
        } else {
            out += String.fromCharCode(0xC0 | ((c >>  6) & 0x1F));
            out += String.fromCharCode(0x80 | ((c >>  0) & 0x3F));
        }
        }
        return out;
    }
    function utf8to16(str) {
        var out, i, len, c;
        var char2, char3;
        out = "";
        len = str.length;
        i = 0;
        while(i < len) {
        c = str.charCodeAt(i++);
        switch(c >> 4)
        { 
          case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:
            // 0xxxxxxx
            out += str.charAt(i-1);
            break;
          case 12: case 13:
            // 110x xxxx   10xx xxxx
            char2 = str.charCodeAt(i++);
            out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));
            break;
          case 14:
            // 1110 xxxx  10xx xxxx  10xx xxxx
            char2 = str.charCodeAt(i++);
            char3 = str.charCodeAt(i++);
            out += String.fromCharCode(((c & 0x0F) << 12) |
                           ((char2 & 0x3F) << 6) |
                           ((char3 & 0x3F) << 0));
            break;
        }
        }
        return out;
    }

    // 分享地址进行编码
    var _shareUrl = base64encode(utf16to8(_url));
    console.log(_shareUrl);
    //解码
    /*var value2 = utf8to16(base64decode(value1));
    console.log(value2);*/
    share.init({
        title:"分享到",   //可选，默认为"分享到"
        //maskLayer:true,    可选，遮罩层，默认为true
        needCancel:true,  //可选，取消按钮，默认为true
        shareTo:{
            wb:{    //可选
                type:"新浪微博",
                description:"青豆客",
                url:"http://r001.qingdouke.com/"+new Date().getTime()+"/"+new Date().getTime()+"?picId="+_albumId+"&typeUrl="+_shareUrl
            },
            kj:{   //可选
                type:"QQ空间",
                title:"青豆客",
                description:"青豆客-网红美女聚集地",
                url:"http://r001.qingdouke.com/"+new Date().getTime()+"/"+new Date().getTime()+"?picId="+_albumId+"&typeUrl="+_shareUrl
            },
            wm:{   //可选
                type:"生成二维码",
                url:"http://r001.qingdouke.com/"+new Date().getTime()+"/"+new Date().getTime()+"?picId="+_albumId+"&typeUrl="+_shareUrl
            }
        }
    });

    //触发
    $(".pic_share").click(function(){
        share.open();
    })
</script>
</body>
</html>